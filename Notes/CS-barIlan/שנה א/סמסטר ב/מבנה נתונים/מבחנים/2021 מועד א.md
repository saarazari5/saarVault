![[Pasted image 20220629121434.png]]

__יש כאן טעות בזמן ההכנסות וההוצאות, ביקשו logn__ 
כיוון שביקשו זמן לוגריטמי אפשר להשתמש בעץ $AVL$ שאנחנו יודעים שתומך בהכנסות והוצאות בזמן לוגריתמי $O(n\log n )$ .
הבעיה היחידה תהיה בניית המבנה, נשים לב מנתון השאלה שמדובר במספרים טבעיים, ולכן אנחנו יודעים באיזה בסיס הם ואנחנו יודעים את הטווח שלהם גם כן מנתונים השאלה, 
נראה כי שני האפשרויות שלנו הן count sort או radix sort . נבחר על בסיס החסם העליון.
נראה שהחסם העליון של קבוצת המספרים חסום ב $O(n^2)$ ולכן שימוש ב. count sort בלבד לא יתאים כאן, נשתמש במיון radix על ספרות המספרים מיון זה יהיה חסום ב $O(n)$  עבור טווח מספרים של $n^2$ .  

סך הכל בישביל הבנייה , נבצע radix sort על המספרים בבסיס $n$ (כמובן שמחזירים בחזרה לבסיס שלנו גם כן בזמן קבוע לאחר מכן) . כעת המערך ממויין בזמן ריצה __ליניארי__ 
ניתן להכניס את האיברים לעץ $avl$ גם כן בזמן ליניארי כאשר המערך ממויין. 

![[Pasted image 20220629124106.png]]
__א__ כל זוג מספרים יכול להיות או עוקבים (לכל אחד מהכיוונים) או שווים . 
האלגוריתם פשוט יהיה חיפוש בינארי, אם איבר האמצע קטן מ $c$ נלך לחציון הימני אחרת לשמאלי.

__נכונות__ 
 מאופן בנייה המערך אנחנו יודעים שההתקדמות בין איברים חייבת להיות בקפיצות עוקבות, לכן בהכרח אם $a$ יהיה קטן מ $b$ בהכרח יתקיים שכל המספרים ב קטע $(a,b)$ עוברים שם ובפרט $c$ .
 הפוך יתקיים אותו דבר גם גם הקטנת הערכים לפי הגדרה חייבת להיות הקטנה של מספר 1 כל פעם. 
וכמובן שאם אם שווים אז אין מספר $c$ בינהם שהוא שונה מ $a=b$ .

הדבר הזה נכון גם על כל תת מערך ולכן אם $c$ יהיה גדול מהאיבר האמצעי הוא בהכרח יהיה בתת המערך הימני ולכן חיפוש בינארי עובד פה.

$$T(n)=T(\frac{n}{2})+ O(1)\in \Theta(\log n)$$
__ב__ 
לכל אלגוריתם מבוסס השוואות  כמו זה קיים עץ החלטות , נרצה להבין כמה עלים יהיו בעץ ההחלטות הזה כי המטרה שלנו היא לבנות עץ שיגיע לכך שבכל עלה יש בידיוק אפפשרות אחת עם מספר ההשוואות המינימלי. 
נשים לב שהפלט הוא אינדקס כלומר שנרצה לבנות אלגוריתם שמפצל שורש אחד ל $n$ עלים (יש $n$ אינדקסים)  בזמן מינימלי. עץ החלטות הוא בינארי שלם כלומר הגובה שלו הוא $\Omega(\log n)$ (בינארי שלם כי אפשר לקבל שתי תוצאות כל פעם, (האם יותר גדול מאינדקס מסויים או יותר קטן). כלומר שבמקרה הגרוע ביותר מספר הירידות שנעשה בעץ הוא $\Omega(\log n)$ __כדרוש__ . 

![[Pasted image 20220629140854.png]]

נוכיח באינדקוצייה על מבנה העץ 
__א__ 
בסיס: n=1 זה קודקוד ללא ילדים , שורש ולכן מספר העלים הוא אי זוגי = 1 
צעד: נניח על עץ בגובה $<h$ ונוכיח עבור $h$ . 

תת העץ הימני הוא בגובה הקטן יותר מ $h$ ולכן לפי הנחת האינדוקצייה יש לו מספר אי זוגי של עלים , כמו כן ,
תת העץ השמאלי הוא בגובה הקטן יותר מ$h$ ולכן לפי הנחת האינדוקצייה יש לו מספר אי זוגי של עלים .
תת העץ השלישי הוא גם כן יקיים את הנחת האינדוקצייה וגם לא מספר אי זוגי של עלים.

חיבור של שלושתם תמיד ייתן מספר אי זוגי גם עבור עץ בגובה $h$ כדרוש. 

__ב__ 
באותו אופן נסמן את תתי העצים $T_{1},T_{2},T_{3}$
לשלושתם יש $\frac{n_{i}-1}{2}$ קודקודים פנימיים $i\in [3]$  .החיבור שלהם פלוס השורש ייתן 
$$\frac{n_1+n_2+n_3-3}{2}+1=\frac{n-3+2}{2}=\frac{n-1}{2}$$


